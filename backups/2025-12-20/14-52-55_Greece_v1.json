JSON.stringify({
  backup_info: {
    location: Greece,
    attempt: 1,
    timestamp: 2025-12-20T14:52:55.524-05:00
  },
  workflow_logic: ={
  "updatedAt": "2025-12-20T19:51:40.152Z",
  "createdAt": "2025-12-15T19:22:49.201Z",
  "id": "W8riZ4wUJqsDtN1P",
  "name": "webdev-n8n",
  "description": null,
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "authentication": "airtableTokenApi",
        "baseId": {
          "__rl": true,
          "value": "appeheKVUnVF3H0pu",
          "mode": "id"
        },
        "tableId": {
          "__rl": true,
          "value": "tblfQqBNzUNLREYuz",
          "mode": "id"
        },
        "triggerField": "Last Updated",
        "additionalFields": {
          "fields": "Location,Requester Email,Status,Reviewer Comments,Attempt,Last Updated",
          "viewId": "viwRzDzEPvkU7KHFq"
        }
      },
      "type": "n8n-nodes-base.airtableTrigger",
      "typeVersion": 1,
      "position": [
        448,
        -336
      ],
      "id": "483d49f5-9d94-4ee5-bc1a-78980e93b685",
      "name": "Airtable Trigger",
      "executeOnce": false,
      "credentials": {
        "airtableTokenApi": {
          "id": "LgBQn0OuMh1DO9uM",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are a senior front-end designer specializing in travel UI/UX. Generate ONE self-contained HTML file. \nOutput MUST start with <!doctype html> and end with </html>. No markdown, no fences, no prose.\n\n### CONTEXT\n- Location: \"{{ $('WorkflowEnvVars').item.json.location }}\"\n- User Feedback: \"{{ $('Send message and wait for response').isExecuted ? $('Send message and wait for response').item.json.data['Feedback/Comment'] : 'None. This is the first version.' }}\"\n\n### DESIGN REQUIREMENTS\n1) STYLING: Modern Airbnb aesthetic. Use a <style> block:\n   - HERO: Max-height 60vh. Use a dark linear-gradient overlay so the title is readable but NOT overwhelming.\n   - TYPOGRAPHY: H1 (Hero) should be 3rem. H2 (Sections) should be 2rem. Use clear spacing (line-height: 1.6).\n   - GRID: A clean 3-column flex/grid for attractions. Cards must have 20px padding.\n   - COLORS: Use a primary \"Action\" color (like #FF385C) for accents and buttons.\n\n2) CONTENT SECTIONS (MANDATORY):\n   - INTRODUCTION: A 3-sentence captivating summary of {{ $('WorkflowEnvVars').item.json.location }} .\n   - ATTRACTIONS: Exactly 3 unique attractions. Each MUST have:\n     - A unique image (Format: https://loremflickr.com/800/600/{{ $('WorkflowEnvVars').item.json.location }},<attraction_name>/all).\n     - A descriptive title.\n     - A detailed 4-sentence paragraph describing the history and why to visit.\n   - LOCAL TIPS: A small section with 3 bullet points of \"Pro-traveler\" advice for this city.\n\n3) INTERACTIVE MAP:\n   - Use Leaflet.js via CDN. Div ID \"map\" must be 400px tall.\n   - SCRIPT: Programmatically center the map based on the average coordinates of the 3 attractions. Ensure markers are added for all 3 attractions with popups.\n\nReturn ONLY the raw HTML code. Do not include any explanations.",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        896,
        -336
      ],
      "id": "0b64e5b2-3b4a-4e63-afe1-5773836a74f7",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "model": "llama-3.3-70b-versatile",
        "options": {
          "maxTokensToSample": 8192,
          "temperature": 0.1
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "typeVersion": 1,
      "position": [
        976,
        -112
      ],
      "id": "1c11948f-e19c-4348-ad02-3c86935ce77a",
      "name": "Groq Chat Model",
      "credentials": {
        "groqApi": {
          "id": "vry1Y1NSpQa7nZnW",
          "name": "Groq account"
        }
      }
    },
    {
      "parameters": {
        "resource": "file",
        "owner": {
          "__rl": true,
          "mode": "name",
          "value": "={{ $('GitHubEnvVars').item.json.repoOwner }}"
        },
        "repository": {
          "__rl": true,
          "mode": "name",
          "value": "={{ $json.repoName }}"
        },
        "filePath": "={{ $('GitHubEnvVars').item.json.draftPath }}",
        "fileContent": "={{ $('Basic LLM Chain').item.json.text }}",
        "commitMessage": "={{ $('WorkflowEnvVars').item.json.location }}-{{ Number( $('Get a record').item.json.Attempt) + 1 }}-{{ $now }}"
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        1696,
        -400
      ],
      "id": "cbf831a0-f238-4cc0-8cda-8ad2f81ee763",
      "name": "Create a file",
      "webhookId": "b7f85693-2573-4a57-b486-4f85ff848d32",
      "credentials": {
        "githubApi": {
          "id": "WjQUHjjxtnuO7eaT",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c1372edd-6998-4cb9-8966-fa792a6d808a",
              "name": "recordId",
              "value": "={{$json.id}}",
              "type": "string"
            },
            {
              "id": "f781bfaa-0f22-41ed-9cce-c95e350519bb",
              "name": "location",
              "value": "={{$json.fields[\"Location\"]}}",
              "type": "string"
            },
            {
              "id": "0c82d919-d671-45c4-8054-91a84d0ed629",
              "name": "requesterEmail",
              "value": "={{ $json.fields[\"Requester Email\"] || \"\" }}\n",
              "type": "string"
            },
            {
              "id": "fb0c355c-8655-4ded-9ac0-5a87d2834c6f",
              "name": "emailPrefix",
              "value": "={{ ($json.fields[\"Requester Email\"] || \"\").split(\"@\")[0].replace(/[^a-zA-Z0-9._-]/g, \"_\") }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        672,
        -336
      ],
      "id": "49e9ed2e-4790-4e35-b6f8-4ffce16ebb99",
      "name": "WorkflowEnvVars"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "93976b8e-f9b8-4f9b-bfe5-4a68396a2c68",
              "name": "draftPath",
              "value": "=docs/drafts/{{$('WorkflowEnvVars').item.json.emailPrefix}}/{{$('WorkflowEnvVars').item.json.recordId}}-v{{ Number( $('Get a record').item.json.Attempt) + 1 }}.html",
              "type": "string"
            },
            {
              "id": "c72e957d-34ef-471a-8f87-727bd1f26836",
              "name": "draftUrlPath",
              "value": "=drafts/{{$('WorkflowEnvVars').item.json.emailPrefix}}/{{$('WorkflowEnvVars').item.json.recordId}}-v{{ Number( $('Get a record').item.json.Attempt) + 1 }}",
              "type": "string"
            },
            {
              "id": "df3e51a1-c9c7-4552-b43b-9f5e5b25d89b",
              "name": "repoName",
              "value": "afeka_webdevelopment_n8n_test",
              "type": "string"
            },
            {
              "id": "7eb791f9-02e3-4e95-b1ce-6cae77f24650",
              "name": "repoOwner",
              "value": "liran19",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1472,
        -400
      ],
      "id": "d8a953f3-93df-427a-a6de-8392b8ec0900",
      "name": "GitHubEnvVars"
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "sendTo": "={{ $json.fields['Requester Email'] }}",
        "subject": "={{ ($json.data && $json.data[\"Approve / Decline\"] === \"Decline\") ? \"ðŸ”„ Revision: \" : \"âœ¨ Your Travel Guide: \" }}{{ $('Airtable Trigger').item.json.fields.Location || \"Your Destination\" }} | v{{ Number( $('Get a record').item.json.Attempt +1)}}",
        "message": "=<p>Your draft page is ready:</p>\n<p><a href=\"{{ $json.fields['Draft URL'] }}\">{{ $json.fields['Draft URL'] }}</a></p>\n\n<p>Please choose:</p>\n<ul>\n  <li><b>Approve</b> to accept and save it</li>\n  <li><b>Reject</b> to regenerate</li>\n</ul>\n\n<p><small>recordId={{ $json.id }} | v{{ Number( $('Get a record').item.json.Attempt + 1) }}</small></p>\n\n",
        "responseType": "customForm",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Approve / Decline",
              "fieldType": "dropdown",
              "defaultValue": "Approve",
              "fieldOptions": {
                "values": [
                  {
                    "option": "Approve"
                  },
                  {
                    "option": "Decline"
                  }
                ]
              }
            },
            {
              "fieldLabel": "Feedback/Comment",
              "placeholder": "If Declined, Please add a feedback to improve the HTML"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        2816,
        -400
      ],
      "id": "2ac961e0-a0c6-4195-8922-fe92fa10c078",
      "name": "Send message and wait for response",
      "webhookId": "2595c426-da49-4e2a-9c77-dbbca59fa5ee",
      "credentials": {
        "gmailOAuth2": {
          "id": "DZIE9dBbN4HcUK5A",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "3afb72c1-b7d9-49e5-918b-0add4d083552",
              "leftValue": "={{ $json.data['Approve / Decline'] }}",
              "rightValue": "Approve",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        3040,
        -400
      ],
      "id": "345f6e1a-0e57-4d2b-b692-aa2ce751218a",
      "name": "If"
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appeheKVUnVF3H0pu",
          "mode": "list",
          "cachedResultName": "n8n-test",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu"
        },
        "table": {
          "__rl": true,
          "value": "tblfQqBNzUNLREYuz",
          "mode": "list",
          "cachedResultName": "Requests",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu/tblfQqBNzUNLREYuz"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Status": "Approved",
            "id": "={{ $('Airtable Trigger').item.json.id }}",
            "Published URL": "=https://{{ $('Create a file').item.json.commit.author.name }}.github.io/{{ $('GitHubEnvVars').item.json.repoName }}/{{ $('GitHubEnvVars').item.json.draftUrlPath }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Location",
              "displayName": "Location",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Requester Email",
              "displayName": "Requester Email",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Last Updated",
              "displayName": "Last Updated",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Reviewer Comments",
              "displayName": "Reviewer Comments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Attempt",
              "displayName": "Attempt",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Draft URL",
              "displayName": "Draft URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Published URL",
              "displayName": "Published URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3264,
        -496
      ],
      "id": "35006916-af43-4389-84e3-f66935f1dcff",
      "name": "UpdateApproved",
      "credentials": {
        "airtableTokenApi": {
          "id": "LgBQn0OuMh1DO9uM",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "amount": 10
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1920,
        -400
      ],
      "id": "75887758-328c-41a6-a762-a0a26fc57150",
      "name": "Wait",
      "webhookId": "e8adfdd7-9cec-4ce5-a9c0-96c8434403b1",
      "retryOnFail": false,
      "maxTries": 5
    },
    {
      "parameters": {
        "url": "=https://{{ $('GitHubEnvVars').item.json.repoOwner }}.github.io/{{ $('GitHubEnvVars').item.json.repoName }}/{{ $('GitHubEnvVars').item.json.draftUrlPath }}",
        "options": {
          "response": {
            "response": {
              "fullResponse": true
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        2144,
        -480
      ],
      "id": "92671439-37d0-411f-99d8-991889abfbc0",
      "name": "Check GitHub Page Status",
      "retryOnFail": false,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "7808faa0-ae7c-420e-860d-9404c911273c",
              "leftValue": "={{ $json.statusCode }}",
              "rightValue": 200,
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            },
            {
              "id": "a5f1d7cb-fc24-4735-97ee-64cfd4c65688",
              "leftValue": "={{ $json.data }}",
              "rightValue": "<!doctype html",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2368,
        -400
      ],
      "id": "b1c42870-e509-4d22-bc27-98ac4e38e0e7",
      "name": "Check if Page is ready before sending the mail"
    },
    {
      "parameters": {
        "resource": "file",
        "operation": "delete",
        "owner": {
          "__rl": true,
          "value": "liran19",
          "mode": "list",
          "cachedResultName": "liran19",
          "cachedResultUrl": "https://github.com/liran19"
        },
        "repository": {
          "__rl": true,
          "value": "afeka_webdevelopment_n8n_test",
          "mode": "list",
          "cachedResultName": "afeka_webdevelopment_n8n_test",
          "cachedResultUrl": "https://github.com/liran19/afeka_webdevelopment_n8n_test"
        },
        "filePath": "={{ $('Create a file').item.json.content.path }}",
        "commitMessage": "=delete- {{ $('Create a file').item.json.content.name }}-user-refusal"
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        3264,
        -304
      ],
      "id": "4da5e8a1-8129-4262-ba92-067695735e7d",
      "name": "Delete a file",
      "webhookId": "3f49eb0d-f128-4e47-a9c3-452dc1c5df41",
      "credentials": {
        "githubApi": {
          "id": "WjQUHjjxtnuO7eaT",
          "name": "GitHub account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appeheKVUnVF3H0pu",
          "mode": "list",
          "cachedResultName": "n8n-test",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu"
        },
        "table": {
          "__rl": true,
          "value": "tblfQqBNzUNLREYuz",
          "mode": "list",
          "cachedResultName": "Requests",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu/tblfQqBNzUNLREYuz"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Status": "Draft Sent",
            "id": "={{ $('Airtable Trigger').item.json.id }}",
            "Attempt": "={{ Number( $('Get a record').item.json.Attempt) + 1 }}",
            "Draft URL": "=https://{{ $('GitHubEnvVars').item.json.repoOwner }}.github.io/{{ $('GitHubEnvVars').item.json.repoName }}/{{ $('GitHubEnvVars').item.json.draftUrlPath }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Location",
              "displayName": "Location",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Requester Email",
              "displayName": "Requester Email",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Reviewer Comments",
              "displayName": "Reviewer Comments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Attempt",
              "displayName": "Attempt",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Draft URL",
              "displayName": "Draft URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Published URL",
              "displayName": "Published URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Attractions JSON",
              "displayName": "Attractions JSON",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Last Updated",
              "displayName": "Last Updated",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": true
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        2592,
        -400
      ],
      "id": "1231e0f9-5060-4209-b51f-c77fbd8aa1c2",
      "name": "Update AirTable Status and DraftURL",
      "credentials": {
        "airtableTokenApi": {
          "id": "LgBQn0OuMh1DO9uM",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appeheKVUnVF3H0pu",
          "mode": "list",
          "cachedResultName": "n8n-test",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu"
        },
        "table": {
          "__rl": true,
          "value": "tblfQqBNzUNLREYuz",
          "mode": "list",
          "cachedResultName": "Requests",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu/tblfQqBNzUNLREYuz"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Status": "Retrying",
            "id": "={{ $('Airtable Trigger').item.json.id }}",
            "Reviewer Comments": "={{ $('Send message and wait for response').item.json.data['Feedback/Comment'] }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Location",
              "displayName": "Location",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Requester Email",
              "displayName": "Requester Email",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Reviewer Comments",
              "displayName": "Reviewer Comments",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Attempt",
              "displayName": "Attempt",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Draft URL",
              "displayName": "Draft URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Published URL",
              "displayName": "Published URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Attractions JSON",
              "displayName": "Attractions JSON",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Last Updated",
              "displayName": "Last Updated",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": false
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3488,
        -240
      ],
      "id": "71fcd6a1-2edd-454f-ae45-e2546d014f81",
      "name": "AirTable: Prepare Revision",
      "credentials": {
        "airtableTokenApi": {
          "id": "LgBQn0OuMh1DO9uM",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "base": {
          "__rl": true,
          "value": "appeheKVUnVF3H0pu",
          "mode": "list",
          "cachedResultName": "n8n-test",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu"
        },
        "table": {
          "__rl": true,
          "value": "tblfQqBNzUNLREYuz",
          "mode": "list",
          "cachedResultName": "Requests",
          "cachedResultUrl": "https://airtable.com/appeheKVUnVF3H0pu/tblfQqBNzUNLREYuz"
        },
        "id": "={{ $('WorkflowEnvVars').item.json.recordId }}",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1248,
        -400
      ],
      "id": "5ac89be9-0495-4b56-8adb-52c7a1a19057",
      "name": "Get a record",
      "credentials": {
        "airtableTokenApi": {
          "id": "LgBQn0OuMh1DO9uM",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "workflowId": {
          "__rl": true,
          "value": "={{ $workflow.id }}",
          "mode": "id"
        },
        "requestOptions": {}
      },
      "type": "n8n-nodes-base.n8n",
      "typeVersion": 1,
      "position": [
        3488,
        -496
      ],
      "id": "fc90e8cc-7b13-4db0-9cf0-f40fb7fec6a7",
      "name": "Get a workflow",
      "credentials": {
        "n8nApi": {
          "id": "YaSF1fHKkV1SR2Za",
          "name": "n8n account"
        }
      }
    },
    {
      "parameters": {
        "resource": "file",
        "owner": {
          "__rl": true,
          "mode": "name",
          "value": "={{ $('GitHubEnvVars').item.json.repoOwner }}"
        },
        "repository": {
          "__rl": true,
          "mode": "name",
          "value": "={{ $('GitHubEnvVars').item.json.repoName }}"
        },
        "filePath": "=backups/{{ $now.format('yyyy-MM-dd') }}/{{ $now.format('HH-mm-ss') }}_{{ $('UpdateApproved').item.json.fields.Location }}_v{{ $('UpdateApproved').item.json.fields.Attempt }}.json",
        "fileContent": "=JSON.stringify({\n  backup_info: {\n    location: {{ $('WorkflowEnvVars').item.json.location }},\n    attempt: {{ $('Update AirTable Status and DraftURL').item.json.fields.Attempt }},\n    timestamp: {{ $now.toString() }}\n  },\n  workflow_logic: ={{ JSON.stringify($json, null, 2) }}\n}}",
        "commitMessage": "=Backup: {{ $('Airtable Trigger').item.json.fields.Location }} at {{ $now.format('HH:mm:ss') }}"
      },
      "type": "n8n-nodes-base.github",
      "typeVersion": 1.1,
      "position": [
        3712,
        -496
      ],
      "id": "f4cdf5bf-a5d9-4bd1-8ab7-cf50ad868d00",
      "name": "Backup Run",
      "webhookId": "ab05999d-c589-4435-9dd5-53c1b7f9b0a6",
      "credentials": {
        "githubApi": {
          "id": "WjQUHjjxtnuO7eaT",
          "name": "GitHub account"
        }
      }
    }
  ],
  "connections": {
    "Airtable Trigger": {
      "main": [
        [
          {
            "node": "WorkflowEnvVars",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Groq Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Get a record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create a file": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WorkflowEnvVars": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GitHubEnvVars": {
      "main": [
        [
          {
            "node": "Create a file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "UpdateApproved",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Delete a file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Check GitHub Page Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check GitHub Page Status": {
      "main": [
        [
          {
            "node": "Check if Page is ready before sending the mail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check if Page is ready before sending the mail": {
      "main": [
        [
          {
            "node": "Update AirTable Status and DraftURL",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete a file": {
      "main": [
        [
          {
            "node": "AirTable: Prepare Revision",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update AirTable Status and DraftURL": {
      "main": [
        [
          {
            "node": "Send message and wait for response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AirTable: Prepare Revision": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a record": {
      "main": [
        [
          {
            "node": "GitHubEnvVars",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UpdateApproved": {
      "main": [
        [
          {
            "node": "Get a workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a workflow": {
      "main": [
        [
          {
            "node": "Backup Run",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "13288f7a-e4c9-427f-a592-946ac91189aa",
  "activeVersionId": null,
  "versionCounter": 22,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-12-15T19:22:49.203Z",
      "createdAt": "2025-12-15T19:22:49.203Z",
      "role": "workflow:owner",
      "workflowId": "W8riZ4wUJqsDtN1P",
      "projectId": "TUGFGsc1OztkTpig",
      "project": {
        "updatedAt": "2025-12-20T19:44:40.401Z",
        "createdAt": "2025-12-15T19:20:59.469Z",
        "id": "TUGFGsc1OztkTpig",
        "name": "Liran Sh <liranman12@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "updatedAt": "2025-12-15T19:20:59.469Z",
            "createdAt": "2025-12-15T19:20:59.469Z",
            "userId": "c07e85ee-0b31-4b69-8665-dd59810fb2fb",
            "projectId": "TUGFGsc1OztkTpig",
            "user": {
              "updatedAt": "2025-12-20T19:44:40.000Z",
              "createdAt": "2025-12-15T19:20:59.359Z",
              "id": "c07e85ee-0b31-4b69-8665-dd59810fb2fb",
              "email": "liranman12@gmail.com",
              "firstName": "Liran",
              "lastName": "Sh",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-12-15T19:21:42.174Z",
                "personalization_survey_n8n_version": "2.0.2",
                "companyType": "personal",
                "reportedSource": "google"
              },
              "settings": {
                "userActivated": false,
                "easyAIWorkflowOnboarded": true
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-12-20",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": [],
  "activeVersion": null
}
}}